<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Relatronica | Science Fiction Tech Atlas</title>
    <meta name="description" content="Explore how science fiction authors, works, and technologies intertwine across time.">
    <meta name="keywords" content="science fiction atlas, speculative technology, teleportation history, authors works concepts">
    <meta name="author" content="Relatronica Design Studio">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet" media="print" onload="this.media='all'">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body class="atlas-embed-body">
  <main class="atlas-main">
    <section class="science-fiction-hero card">
      <h2 class="gradient-text">Science Fiction Tech Atlas</h2>
      <p class="intro">
        A navigable constellation of authors, works, and speculative technologies.
        Follow the first appearance of the teleporter, trace how artificial intelligence mutates from positronic brains to cyberspace, or surface the Afrofuturist lineages that remix contact narratives.
      </p>
      <p class="intro">
        Hover nodes for quick context, use search and filters to focus on eras or traditions, and click to pin detailed annotations.
        The network rewrites itself as you filter, revealing which creators popularised concepts and who reimagined them for new audiences.
      </p>
    </section>

    <section class="philosophy-mind-layout">
      <div class="mind-graph card">
        <div class="graph-header">
          <h4><i class="fa-solid fa-network-wired" aria-hidden="true"></i> Interactive Graph</h4>
          <button type="button" id="mind-zoom-reset" class="ghost-button">Reset view</button>
        </div>
        <div class="graph-legend" aria-hidden="true">
          <div class="legend-group legend-group--nodes">
            <span class="legend-label">Nodes</span>
            <button type="button" class="legend-item legend-chip" data-type="all">
              <i class="fa-solid fa-globe"></i> All
            </button>
            <button type="button" class="legend-item legend-chip legend-philosopher" data-type="philosopher">
              <i class="fa-solid fa-user-astronaut"></i> Author
            </button>
            <button type="button" class="legend-item legend-chip legend-theory" data-type="theory">
              <i class="fa-solid fa-book-open"></i> Work
            </button>
            <button type="button" class="legend-item legend-chip legend-concept" data-type="concept">
              <i class="fa-solid fa-atom"></i> Technology / Concept
            </button>
          </div>
          <div class="legend-group">
            <span class="legend-label">Relations</span>
            <span class="legend-line legend-line-strong">Origin / Foundational</span>
            <span class="legend-line legend-line-medium">Development / Popularisation</span>
            <span class="legend-line legend-line-light">Reference / Resonance</span>
          </div>
        </div>
        <div class="graph-wrapper" id="philosophy-graph" aria-label="Science fiction network graph"></div>
        <div class="graph-footnote">
          <p>
            Data curated by Relatronica. Edges highlight introduction, reinterpretation, or dissemination of speculative technologies.
            Last update: <span class="update-pill">November 2025</span>
          </p>
        </div>
      </div>
    </section>

    <section class="science-fiction-notes card">
      <h3 class="gradient-text">Reading Suggestions</h3>
      <ul>
        <li><strong>Compare lineages:</strong> Filter by topic “Teleportation” to see how the concept jumps from 19th-century newspaper fiction to televisual utopias.</li>
        <li><strong>Map global shifts:</strong> Combine tradition “Afrofuturism” with era “21st Century” to surface Africanfuturist narratives expanding contact tropes.</li>
        <li><strong>Trace AI anxieties:</strong> Follow the Artificial Intelligence concept node to move from Asimov’s obedience laws to Gibson’s networked consciousness and Liu Cixin’s strategic fears.</li>
      </ul>
    </section>
  </main>

  <script src="js/data/scienceFictionData.js"></script>
  <script src="js/philosophyGraph.js"></script>
  <script>
    (function syncTheme() {
      const applyTheme = (value) => {
        const theme = value === 'dark' ? 'dark' : 'light';
        document.documentElement.setAttribute('data-theme', theme);
      };

      const savedTheme = localStorage.getItem('theme');
      if (savedTheme) {
        applyTheme(savedTheme);
      } else {
        const current = document.documentElement.getAttribute('data-theme') || 'light';
        applyTheme(current);
      }

      window.addEventListener('storage', (event) => {
        if (event.key === 'theme') {
          applyTheme(event.newValue);
        }
      });

      window.addEventListener('message', (event) => {
        const payload = event.data;
        if (payload && payload.type === 'theme-change') {
          applyTheme(payload.theme);
        }
      });
    })();
    (function notifyParentOfSize() {
      if (!window.parent || window.parent === window) return;

      const postHeight = () => {
        const height = Math.max(
          document.documentElement?.scrollHeight || 0,
          document.body?.scrollHeight || 0
        );
        window.parent.postMessage({ type: 'science-fiction-atlas-height', height }, '*');
      };

      window.addEventListener('load', postHeight);
      window.addEventListener('resize', postHeight);

      if (window.ResizeObserver) {
        const ro = new ResizeObserver(() => postHeight());
        ro.observe(document.body);
      } else if (window.MutationObserver) {
        const mo = new MutationObserver(() => postHeight());
        mo.observe(document.body, { attributes: true, childList: true, subtree: true });
      } else {
        setInterval(postHeight, 1000);
      }
    })();
  </script>
</body>
</html>

